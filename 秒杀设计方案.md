1. 协程：维护一个协程池
2. 同步互斥问题：
- 维护三个hashmap，<学生id，list〈课程id〉>；<课程〈id〉，余量>；<课程id, 课名，老师名〉
- 前两个需要保证同步互斥关系：修改课程余量的时候，用课程id锁和学生id锁；修改学生所选课程时，用学生id锁。学生id锁保证同一个学生在修改完课程后，能读到自己选的课程。课程id锁也能保证学生选课的时候，不会出现超选情况。
- 第三个<课程id, 课名，老师名〉是不动的，只是为了内存存储加速
3. mq异步更新
- 生产者将<学生id，课程id>的消息发送到mq，消费者从mq中读取消息，然后在mysql中更新课程余量和学生所选课程

总流程：
1. 分配协程执行函数
2. 在内存修改课程余量和课表
3. 生产者生产对应消息，发给消息队列，消费者消费消息，异步更新mysql

参考：
1. https://gitee.com/dkis61/seckill
2. https://gitee.com/xuxing/seckill_system
3. https://github.com/Nobodiesljh/seckill-golang/