1. 协程：维护一个协程池
2. 秒杀：
- 维护三个hashmap，<学生id，set〈课程id〉>；<课程〈id〉，余量>；<课程id, TCourse〉
- 采用CAS策略，对hash中课程的余量-1，如果余量<0，回滚，余量+1；如果余量>=0写库，然后mq发信息
- 第三个<课程id, TCourse〉是不动的，放内存就行，
3. mq异步更新
- 生产者将<学生id，课程id>的消息发送到mq，消费者从mq中读取消息，然后在mysql中更新课程余量和学生所选课程

总流程：
1. 分配协程执行函数
2. 在redis修改课程余量和课表
3. 生产者生产对应消息，发给消息队列，消费者消费消息，异步更新mysql

参考：
1. https://gitee.com/dkis61/seckill
2. https://gitee.com/xuxing/seckill_system
3. https://github.com/Nobodiesljh/seckill-golang/